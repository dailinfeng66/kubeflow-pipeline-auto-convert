# AST转换结果文档

## 组件的定义标准

+ 一个py文件里面只能够存在两种代码，如果存在其他代码可能会引起代码转换错误

	+ 导包代码
	+ 方法代码

+ 方法定义语句上不需要写返回值类型eg: <code>->str/***</code> 这样写将导致编译出错

	✅正确方法定义写法：

	```python
	def fun1min(params, x, y):
	```

	❌错误方法定义写法：

	```python
	def fun1min(params, x, y)->str:
	```

+ 方法的返回语句不能够是一串表达式，应该写为变量返回的形式。如果写成了表达式的形式将导致代码转换错误 无法成功编译

	✅正确的返回方式

	```python
	res_model = model - y
	return res_model
	```

	❌错误的表达方式

	```python
	return model - y
	```

+ 一个方法内调用的方法如果不是安装的第三方包，那么这个方法只能在当前文件中，不能是在其他文件中，如果在其他文件中将导致找不到调用的方法，组件无法运行 

## 任务的背景及意义

### 背景

​		当非编程研究人员需要编程完成一定的研究任务时，学习编程将会花费一定的人力物力时间成本，如果设计出一个通过流程图、逻辑脚本就能完成程序编写的低代码平台，或者是无代码平台将能够大大减少成本。因此基于这一目的我们选择开发出这一平台。在平台的开发上，选择使用kubeflow的pipeline功能作为载体，在pipeline的基础上开发一套自动化流程，用户只需要绘制组件的调用流程图或者是写出组件的流程脚本即可。平台将解析脚本或者是流程图，将脚本或者是流程图转换成pipeline定义的代码，再运行代码生成kubeflow内的pipeline并运行。

​		研究人员在进行流程编排的前提是平台上有一定数量的计算组件可以被调用，因此集成足够多的组件是一项非常重要的问题。外部组件的集成就是一项重复性的工作。如果我们需要使得我们在kubeflow的pipeline功能上构建更多的pipeline和更加方便的构建pipeline我们就需要拥有足够多的组件。此时依靠我们手工的去集成组件效率将会变得非常低下。

​	基于以上问题我们可以开发出一套对普通python代码进行扫描的工具，此工具能够扫描python代码，并将python代码内的方法转换为pipeline 组件定义的规范代码，并运行此代码生成组件的yaml文件，最后将此yaml文件自动上传到组件统一管理中心。

 ### 意义

​		平台主要是将编程简化，能够更加快速构建出数据计算、数据处理和深度学习的pipeline的程序，简化开发流程、提高代码的复用率、提高开发效率、减少重复性的工作、提高研究效率。同时能够集中管理每条pipeline，对一个实验的所有pipeline也可以进行集中管理和对比，提高实验效率。

## 转换代码的重难点

